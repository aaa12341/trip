<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>마이리얼트립</title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/default.css">
</head>
<style>
    header{background-image: url(img/home.jpg);}
    header .boxs{border-bottom: 1px solid hsla(0,0%,100%,.3);}
    header .middle_box h2 {margin-top: 30px;}
    header .middle_box .box3 {margin-top: 50px;}
</style>
<body>
    <div id="wrap">
        <header></header>
        <div class="home_banner">
             <img src="./img/banner7.jpg" alt="">
        </div>
     <article>
     <section>
         <div class="content">
             <h2>인기호텔</h2>
             <ul class="home_tab">
                 <li class="list home_tab_active" onclick="Act(0)">오사카</li>
                 <li class="list" onclick="Act(1)">후쿠오카</li>
                 <li class="list" onclick="Act(2)">라스베가스</li>
                 <li class="list" onclick="Act(3)">도쿄</li>
                 <li class="list" onclick="Act(4)">로마</li>
                 <li class="list" onclick="Act(5)">타이페이</li>
             </ul>
             <div class="content_wrap" id="table_desc4">
                 <div class="content_box"><div class="content_img"></div><div class="content_txt"><div class="nation">밴쿠버</div><span class="trip">서울 - 밴쿠버<br/>1월23일 - 2월 15일</span><div class="price">256,000원~ <em class="airline">직항</em></div></div></div>
                 <div class="content_box"><div class="content_img"></div><div class="content_txt"><div class="nation">세부</div><span class="trip">서울 - 밴쿠버<br/>1월23일 - 2월 15일</span><div class="price">256,000원~ <em class="airline">직항</em></div></div></div>
                 <div class="content_box"><div class="content_img"></div><div class="content_txt"><div class="nation">괌</div><span class="trip">서울 - 밴쿠버<br/>1월23일 - 2월 15일</span><div class="price">256,000원~ <em class="airline">직항</em></div></div></div>
                 <div class="content_box"><div class="content_img"></div><div class="content_txt"><div class="nation">하와이</div><span class="trip">서울 - 밴쿠버<br/>1월23일 - 2월 15일</span><div class="price">256,000원~ <em class="airline">직항</em></div></div></div>
             </div>
         </div>
     </section>
 
     <section style="margin-top:30px;">
         <div class="content">
             <h2>인기여행지</h2>
             <ul class="home_tab">
                 <li class="list home_tab_active" >오사카</li>
                 <li class="list" >로마</li>
                 <li class="list" >런던</li>
                 <li class="list" >파리</li>
                 <li class="list" >바르셀로나</li>
                 <li class="list" >프라하</li>
             </ul>
             <div class="content_wrap" id="table_desc5">
                 <div class="content_box"><div class="content_img"></div><div class="content_txt"><div class="nation">밴쿠버</div><span class="trip">서울 - 밴쿠버<br/>1월23일 - 2월 15일</span><div class="price">256,000원~ <em class="airline">직항</em></div></div></div>
                 <div class="content_box"><div class="content_img"></div><div class="content_txt"><div class="nation">세부</div><span class="trip">서울 - 밴쿠버<br/>1월23일 - 2월 15일</span><div class="price">256,000원~ <em class="airline">직항</em></div></div></div>
                 <div class="content_box"><div class="content_img"></div><div class="content_txt"><div class="nation">괌</div><span class="trip">서울 - 밴쿠버<br/>1월23일 - 2월 15일</span><div class="price">256,000원~ <em class="airline">직항</em></div></div></div>
                 <div class="content_box"><div class="content_img"></div><div class="content_txt"><div class="nation">하와이</div><span class="trip">서울 - 밴쿠버<br/>1월23일 - 2월 15일</span><div class="price">256,000원~ <em class="airline">직항</em></div></div></div>
             </div>
         </div>
     </section>
     </article>
       <footer></footer>
    </div>
    <script src="js/main.min.js"></script>
    <script>
        HeaderRender("home")
        ActiveList(2)
        FooterRender()

        const ActList = document.querySelectorAll('.list');
        console.log(ActList);

        function Act(act){
            for(var i = 0; i < ActList.length; i++){
                ActList[i].className='list';
        }
            ActList[act].className='list home_tab_active';
            
        }
    </script>
    <script>
        String.prototype.replaceAll = function(org, dest) {
                return this.split(org).join(dest);
        }
        xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                let returnJson = JSON.parse(xhttp.response)
                let result = returnJson.filter((x) => {
                    return x.cate == "home1";
                })
                let returnArray = [];
                for(let i = 0; i < result.length; i++){
                    returnArray.push(`
                        <div class="content_box">
                        <div class="content_img" style="background-image:url(${result[i].pic})"></div>
                        <div class="content_txt"><div class="nation">${result[i].title}</div>
                        <span class="trip">${result[i].trip}<br/>${result[i].date}</span>
                        <div class="price">${result[i].price}<em class="airline">직항</em></div></div>
                        </div>
                    `)
                }

                let result2 = returnJson.filter((x) => {
                    return x.cate == "home2";
                })
                let returnArray2 = [];
                for(let i = 0; i < result2.length; i++){
                    returnArray2.push(`
                    <div class="content_box">
                        <div class="content_img" style="background-image:url(${result2[i].pic})"></div>
                        <div class="content_txt"><div class="nation">${result2[i].title}</div>
                        <span class="trip">${result2[i].trip}<br/>${result2[i].date}</span>
                        <div class="price">${result2[i].price}<em class="airline">직항</em></div></div>
                        </div>
                    `)
                }
                const targetHtml = document.getElementById('table_desc4')
                const targetHtml2 = document.getElementById('table_desc5')
                targetHtml.innerHTML = returnArray.toString().replaceAll(",","")
                targetHtml2.innerHTML = returnArray2.toString().replaceAll(",","")
            }
        }
        xhttp.open('POST', 'bibbox.json', true);
        xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        xhttp.send("data=0")
    </script>
    
</body>
</html>